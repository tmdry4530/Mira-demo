---
description: ui-ux-wireframes
globs: 
alwaysApply: false
---
# Mira 합의메커니즘 웹앱 - UI/UX 와이어프레임 룰

## 📋 개요

이 룰은 Mira 합의메커니즘 웹앱의 UI/UX 설계 가이드라인을 제공합니다. 사용자 중심의 직관적 인터페이스 설계를 목표로 하며, 모바일 우선 접근 방식을 채택합니다.

**참조 문서**: [ui-ux-wireframes.md](mdc:docs/ui-ux-wireframes.md)

## 🎯 핵심 설계 원칙

### 사용자 중심 가치
- **직관성**: 첫 사용자도 가이드 없이 이용 가능
- **투명성**: 검증 과정의 실시간 시각화  
- **효율성**: 평균 2분 내 전체 과정 완료
- **접근성**: 모바일/데스크톱 완벽 호환

### 디자인 시스템 (2025 업데이트)
```css
/* 핵심 컬러 팔레트 - 다크블루 테마 기반 */
/* 메인 브랜드 색상 */
--primary: #1e3a8a      /* 다크블루 메인 */
--primary-light: #3b82f6  /* 라이트 블루 */
--primary-dark: #1e2a78   /* 딥 다크블루 */

/* 그라데이션 (16개 검증자 카드용) */
--gradient-primary: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 50%, #60a5fa 100%)
--gradient-dark: linear-gradient(135deg, #1e2a78 0%, #1e3a8a 50%, #3730a3 100%)
--gradient-validator: linear-gradient(145deg, #1e293b 0%, #334155 50%, #475569 100%)

/* 상태별 색상 (PRD 요구사항 반영) */
--success: #10b981      /* 사실/성공 (에메랄드 그린) */
--danger: #ef4444       /* 거짓/실패 (빨강) */  
--warning: #f59e0b      /* 진행중 (앰버) */
--info: #3b82f6         /* 정보 (블루) */

/* 다크블루 테마 베이스 색상 */
--background: #0f172a    /* 다크 배경 */
--surface: #1e293b      /* 카드/표면 */
--surface-elevated: #334155  /* 상승된 표면 (검증자 카드) */
--text-primary: #f1f5f9  /* 메인 텍스트 */
--text-secondary: #94a3b8 /* 보조 텍스트 */
--border: #334155       /* 테두리 */

/* 비활성/대기 상태 */
--secondary: #64748b    /* 대기/비활성 */
--muted: #475569        /* 비활성 텍스트 */

/* 4x4 그리드 전용 색상 */
--grid-gap: 1rem        /* 그리드 간격 */
--card-radius: 0.75rem  /* 카드 모서리 */
--card-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)
```

## 📱 화면별 와이어프레임 (16개 검증자 업데이트)

### 1. 랜딩/질문 입력 화면
**와이어프레임**: [01-landing.svg](mdc:docs/01-landing.svg)

**핵심 요소**:
- 메인 헤드라인: "AI 답변을 16명이 검증해요!" (`--gradient-primary` 배경)
- 3개 예시 질문 버튼 (다크블루 테마 색상 구분)
- 직접 입력창 + CTA 버튼 (`--primary` 색상)
- 하단 기대치 설정 (모바일 지원, 2분 소요)

### 2. AI 답변 생성 화면  
**와이어프레임**: [02-ai-generation.svg](mdc:docs/02-ai-generation.svg)

**핵심 요소**:
- 로딩 애니메이션 (회전 원형)
- 진행률 바 + 예상 시간
- 5단계 프로세스 인디케이터 (16개 검증자 단계 포함)
- 취소 버튼 (사용자 제어권)

### 3. 명제 분할 화면
**와이어프레임**: [03-proposition-split.svg](mdc:docs/03-proposition-split.svg)

**핵심 요소**:
- 원본 답변 → 분할된 명제 시각화 (`--surface` 배경)
- 각 명제별 색상 구분 (다크블루 계열 4가지 톤)
- 화살표로 분할 과정 표현 (`--primary` 색상)
- "16개 검증자로 검증 시작하기" CTA (`--gradient-primary` 배경)

### 4. 검증 과정 화면 (4x4 그리드 - 16개 검증자)
**와이어프레임**: [04-verification.svg](mdc:docs/04-verification.svg)

**핵심 요소 (업데이트)**:
- **4x4 그리드 레이아웃**: `max-w-5xl` 컨테이너, 반응형 간격
- **범례 제거**: 논리/사실/맥락/종합 검증자 범례 삭제로 UI 단순화
- **검증자 카드 개선**:
  - `--gradient-validator` 배경
  - 호버 효과: `transform: scale(1.02)` + `box-shadow` 증가
  - 상태별 시각적 구분 강화
- **진행률 표시**: 4개 카드 그리드로 개선된 진행률 표시
- **헤더 현대화**: 전체 레이아웃 현대적 스타일로 개선
- **실시간 업데이트**: React 키 중복 방지로 안정적 렌더링

### 5. 최종 결과 화면 (16개 기준)
**와이어프레임**: [05-results.svg](mdc:docs/05-results.svg)

**핵심 요소 (업데이트)**:
- **전체 요약**: 16개 중 과반수(9개) 기준 합의 결과
- **명제별 상세 결과**: 16개 투표 분포, `--surface` 카드
- **고유 키 시스템**: React 키 중복 방지로 안정적 렌더링
  - 검증자 결과: `validator-result-${index}-${result.validatorId}`
  - 명제 렌더링: `proposition-${index}`
- **원본 AI 답변**: 재표시 (`--text-primary` 색상)
- **CTA 버튼**: "다시 해보기" + "공유하기" (`--primary` 테마)

## 📏 반응형 가이드라인 (4x4 그리드 최적화)

### 모바일 (375px 기준)
- **4x4 그리드**: 2x8 또는 1x16 세로 배치
- **터치 영역**: 최소 44px
- **검증자 카드**: 전체 너비, 60px 높이
- **여백**: 좌우 16px, 카드 간 8px

### 태블릿 (768px 기준)
- **4x4 그리드**: 2x8 배치
- **카드 크기**: 160px x 80px
- **그리드 간격**: `--grid-gap` (1rem)

### 데스크톱 (1024px+ 기준)
- **4x4 그리드**: 완전한 4x4 배치
- **카드 크기**: 200px x 100px
- **호버 효과**: `transform: scale(1.02)` + 그림자 증가
- **최대 너비**: `max-w-5xl` (80rem)

## 🎨 상태별 스타일 규칙 (16개 검증자)

### 검증자 상태 매핑 (다크블루 테마 기반)
- **완료(사실)**: `--success` (#10b981) 배경 + 체크 아이콘 + 흰색 텍스트
- **완료(거짓)**: `--danger` (#ef4444) 배경 + X 아이콘 + 흰색 텍스트  
- **검증중**: `--warning` (#f59e0b) 배경 + 펄스 애니메이션 + 다크 텍스트
- **대기중**: `--surface-elevated` (#334155) 배경 + `--border` 테두리 + `--text-secondary` 텍스트

### 4x4 그리드 특화 스타일
```css
.validator-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--grid-gap);
  max-width: 80rem; /* max-w-5xl */
  margin: 0 auto;
  padding: 1rem;
}

.validator-card {
  background: var(--gradient-validator);
  border-radius: var(--card-radius);
  box-shadow: var(--card-shadow);
  padding: 1rem;
  transition: all 0.3s ease;
  
  &:hover {
    transform: scale(1.02);
    box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 
                0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
}

/* 반응형 4x4 그리드 */
@media (max-width: 1024px) {
  .validator-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 640px) {
  .validator-grid {
    grid-template-columns: 1fr;
  }
}
```

### React 키 관리 규칙
```jsx
// 검증자 결과 렌더링 (중복 키 방지)
{results.map((result, index) => (
  <ValidatorCard 
    key={`validator-result-${index}-${result.validatorId}`}
    data={result}
  />
))}

// 명제 렌더링 (고유 키 보장)
{propositions.map((proposition, index) => (
  <PropositionCard
    key={`proposition-${index}`}
    content={proposition}
  />
))}
```

### 배경 그라데이션 적용
- **메인 배경**: `--gradient-primary` 또는 `--background`
- **검증자 카드**: `--gradient-validator` 배경
- **카드/모달**: `--surface` 배경 + `--border` 테두리
- **버튼**: Primary 상태시 `--gradient-primary` 적용

### 애니메이션 규칙 (성능 최적화)
- **로딩**: 1초 주기 회전 (다크블루 계열)
- **상태 전환**: 0.3초 fade-in (빠른 피드백)
- **진행률 바**: 0.2초 ease-out (`--gradient-primary` 적용)
- **호버 효과**: 0.3초 transform scale(1.02)
- **그리드 업데이트**: 실시간 상태 변경 시 0.2초 transition

## ✅ 구현 체크리스트 (완료 상태)

### Phase 1: MVP ✅
- [x] 랜딩 화면 - 기본 레이아웃
- [x] AI 생성 화면 - 로딩 상태  
- [x] 결과 화면 - 기본 표시

### Phase 2: 핵심 기능 ✅
- [x] 명제 분할 화면 - 시각화
- [x] 검증 과정 화면 - 4x4 그리드 (16개 검증자)
- [x] React 키 중복 오류 해결

### Phase 3: 최적화 ✅
- [x] 반응형 4x4 그리드 최적화
- [x] 검증자 카드 애니메이션 개선
- [x] 범례 제거로 UI 단순화
- [x] 헤더 및 전체 레이아웃 현대화

## 🔧 해결된 UI/UX 이슈

### React 키 중복 오류 해결
- **문제**: ConsensusResults.tsx에서 "Encountered two children with the same key, `10`" 오류
- **원인**: 동일한 검증자 ID가 여러 명제에 할당되어 중복 키 발생
- **해결**: 고유 키 생성 시스템 도입
- **결과**: 안정적인 16개 검증자 렌더링

### 4x4 그리드 UI 최적화
- **범례 제거**: 논리/사실/맥락/종합 검증자 범례 삭제
- **그리드 레이아웃**: `max-w-5xl`, 반응형 간격 최적화
- **검증자 카드**: 그라데이션 배경, 호버 효과 개선
- **진행률 표시**: 4개 카드 그리드로 시각적 개선

## 🔗 관련 문서

- [mira-prd.mdc](mdc:.cursor/rules/mira-prd.mdc) - 제품 요구사항
- [user-scenarios.mdc](mdc:.cursor/rules/user-scenarios.mdc) - 사용자 시나리오
- [project-scope-definition.mdc](mdc:.cursor/rules/project-scope-definition.mdc) - 프로젝트 범위

이 와이어프레임 룰은 16개 검증자 기반의 4x4 그리드 UI와 안정적인 React 렌더링을 위한 필수 가이드라인입니다.

